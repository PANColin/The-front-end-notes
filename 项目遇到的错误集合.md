# 项目遇到的错误集合

### 微信小程序-设置overflow: auto鼠标可以滑动但是触摸不可滑动

uni-app的框架

改用scroll-view组件

注意！一定要设置高度，否则scroll无效

<scroll-view class="scroll" scroll-y="true">
...
</scroll-view>
.scroll{
	max-height: 600upx;
}

## props

```
 Invalid default value for prop "retunList":
 Props with type Object/Array must use a factory function to return the default    value.
default() {
		return [];
		 }
		 props：
		 1.传递设置默认值时小程序是value
		 2.vue(uni-app是default)
		 3.如果是复杂对象类型，需要以对象的形式返回
```

### uni-app打包

```
一般情况下，源程序中所有的行都参加编译。但是有时希望对其中一部分内容只在满足一定条件才进行编译，也就是对一部分内容指定编译的条件，这就是“条件编译”。有时，希望当满足某条件时对一组语句进行编译，而当条件不满足时则编译另一组语句。

条件编译命令最常见的形式为：
#ifdef 标识符
程序段1
#else
程序段2
#endif
```

![](C:\Users\Administrator\Pictures\uni-app打包.png)

![](C:\Users\Administrator\Pictures\注释块.png)

### vue-router

different router the same component vue。真实的业务场景中，这种情况很多。比如

![](C:\Users\Administrator\Pictures\router.jpeg)

```

我创建和编辑的页面使用的是同一个component,默认情况下当这两个页面切换时并不会触发vue的created或者mounted钩子，官方说你可以通过watch $route的变化来做处理，但其实说真的还是蛮麻烦的。后来发现其实可以简单的在 router-view上加上一个唯一的key，来保证路由切换时都会重新渲染触发钩子了。这样简单的多了。
<router-view :key="key"></router-view>

computed: {
    key() {
        return this.$route.name !== undefined? this.$route.name + +new Date(): this.$route + +new Date()
    }
 }
```

